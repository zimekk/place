(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[609],{79032:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var r=n(2784),a=n(85062),l=n.n(a),o=n(29386),s=n(67122),i=n(13964),c=n(82048),u=n(30876),m=n(6918),d=n(74061),p=n(72779),f=n.n(p),h=n(98212);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const E=(e,t)=>{return(n=e.match(/^([0-9.]*),([0-9.]*)\|(.*)$/))?(([e,n,r,a])=>({i:t,position:{lat:n,lng:r},name:a}))(n):null;var n},v=({name:e,lat:t,lng:n})=>`${t.toFixed(4)},${n.toFixed(4)}|${e}`;function b({children:e,onChange:t}){return r.createElement("div",{className:f()(h.Z.Editor)},r.createElement("textarea",{value:e,onChange:e=>t(e.target.value)}))}class C extends r.Component{state={error:null};static getDerivedStateFromError(e){return{error:e}}render(){const{error:e}=this.state;if(e)return r.createElement("pre",{className:f()(h.Z.Error),children:e.toString()});try{return r.createElement(r.Fragment,null,this.props.children)}catch(e){return!1}}}function Z({children:e}){return r.createElement(C,null,r.createElement(u.Zo,{components:{a:({...e})=>r.createElement("a",g({},e,{target:"_blank",rel:"noopener noreferrer"}))}},r.createElement(m.Z,null,e)))}function y({children:e}){const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{d.toCanvas(t.current,e,(function(e){e&&console.error(e)}))})),r.createElement("div",null,r.createElement("a",{href:e,target:"_blank",style:{textDecoration:"none"}},r.createElement("canvas",{ref:t,width:"100",height:"100"})))}function x({position:e,children:t,setPosition:n}){const a=(0,r.useRef)(null),l=(0,r.useMemo)((()=>({dragend(){const e=a.current;null!=e&&n(e.getLatLng())}})),[]);return r.createElement(o.J,{draggable:!0,eventHandlers:l,position:e,ref:a},r.createElement(s.G,{minWidth:90},r.createElement("span",null,r.createElement(Z,null,t),r.createElement(y,null,(({lat:e,lng:t})=>`https://google.com/maps/dir/?api=1&destination=${e},${t}`)(e)))))}function k({map:e}){const[t]=(0,r.useState)((()=>console.log({map:e})||{position:e.getCenter(),zoom:e.getZoom()})),[n,a]=(0,r.useState)(e.getCenter()),l=(0,r.useCallback)((()=>{e.setView(t.position,t.zoom)}),[e]),o=(0,r.useCallback)((()=>{a(e.getCenter())}),[e]);return(0,r.useEffect)((()=>(e.on("move",o),()=>{e.off("move",o)})),[e,o]),r.createElement("div",{className:f()(h.Z.DisplayPosition)},"latitude: ",n.lat.toFixed(4),", longitude: ",n.lng.toFixed(4)," ",r.createElement("button",{onClick:l},"reset"))}function R(){const[e,t]=(0,r.useState)((()=>(([e,t])=>{try{return decodeURIComponent(escape(atob(t)))}catch(e){return""}})(decodeURI(location.hash).match(/^#(.+)/)||[])||[v({name:"Aleja Wilanowska",lat:52.1724,lng:21.0549}),v({name:"Chmielna",lat:52.228,lng:20.9954})].join("\n")));(0,r.useEffect)((()=>{delete l().Icon.Default.prototype._getIconUrl,l().Icon.Default.mergeOptions({iconRetinaUrl:n(1963).Z,iconUrl:n(20379).Z,shadowUrl:n(26179).Z})}),[]),(0,r.useEffect)((()=>(e=>document.location.replace(`#${btoa(unescape(encodeURIComponent(e)))}`))(e)),[e]);const a=(0,r.useMemo)((()=>e.split("\n").map(E).filter(Boolean).map((({i:e,name:n,position:r})=>({i:e,name:n,position:r,setPosition:({lat:n,lng:r})=>t((t=>t.split("\n").map(((t,a)=>e===a?(({name:e})=>v({name:e,lat:n,lng:r}))(E(t)):t)).join("\n")))})))),[e]),o=(0,r.useMemo)((()=>l().featureGroup(a.map((({position:{lat:e,lng:t}})=>l().marker([e,t])))).getBounds()),[]),[s,u]=(0,r.useState)(null),m=(0,r.useMemo)((()=>r.createElement(i.h,{bounds:o,whenCreated:u,zoom:13,className:f()(h.Z.Map)},r.createElement(c.I,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.map((({i:e,position:t,name:n,setPosition:a})=>r.createElement(x,{key:e,position:t,setPosition:a},n))))),[a]);return r.createElement("div",{className:f()(h.Z.Layout)},r.createElement("h2",null,"Home"),s?r.createElement(k,{map:s}):null,m,r.createElement(b,{onChange:t},e))}},30129:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(39601),a=n.n(r),l=n(82609),o=n.n(l),s=n(99138),i=o()(a());i.i(s.Z),i.push([e.id,".RrA1ILpfQXHCQQPXbxpc{height:50vh;border:2px solid red}.cRX2D4hJlZYEsuK1Xlzb{display:flex;height:10vh;border:2px solid blue}.cRX2D4hJlZYEsuK1Xlzb textarea{border:0;flex:1}.jgCVZc9Kjz8lFJMKaf5m{color:red}",""]),i.locals={Map:"RrA1ILpfQXHCQQPXbxpc",Editor:"cRX2D4hJlZYEsuK1Xlzb",Error:"jgCVZc9Kjz8lFJMKaf5m"};const c=i},98212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(46062),a=n.n(r),l=n(44036),o=n.n(l),s=n(96793),i=n.n(s),c=n(17892),u=n.n(c),m=n(11173),d=n.n(m),p=n(42464),f=n.n(p),h=n(30129),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=i().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d();var E=a()(h.default,g);if(!h.default.locals||e.hot.invalidate){var v=!h.default.locals,b=v?h:h.default.locals;e.hot.accept(30129,(t=>{h=n(30129),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!n||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(n&&"default"===r||e[r]))return!1;return!0}(b,v?h:h.default.locals,v)?(b=v?h:h.default.locals,E(h.default)):e.hot.invalidate()}))}e.hot.dispose((function(){E()}));const C=h.default&&h.default.locals?h.default.locals:void 0},18245:()=>{},60609:()=>{},71220:()=>{},99586:()=>{},4448:()=>{}}]);